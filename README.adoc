= Jipsy
:author: Andres Almiray
:linkattrs:
:project-owner:   kordamp
:project-name:    jipsy
:project-group:   org.kordamp.jipsy
:project-version: 1.1.1

image::media/jipsy-logo.png[]

image:https://github.com/{project-owner}/{project-name}/workflows/Build/badge.svg["Build Status", link="https://github.com/{project-owner}/{project-name}/actions"]
image:https://img.shields.io/maven-central/v/{project-group}/jipsy-processor.svg[Download, link="https://search.maven.org/search?q=jipsy-processor"]

'''

Configurable Java Annotation Processor to simplify the use of the Service Provider Interface.

== Introduction

JDK6 added a neat facility named http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html[ServiceLoader] that
enables library authors to hook in implementations using an http://en.wikipedia.org/wiki/Service_provider_interface[SPI].
As explained at the http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html[service loader documentation],
services must follow certain rules in order to be considered as such; they also must be registered using an standard location
based on a naming convention. The following rules apply to classes that may be considered services

. The class must implement at least one target interface (the service interface).
. The class must provide a no-args constructor.
. The class must be public.
. The class name should be added to a file named `META-INF/services/<target_interface_name>`

This library provides a mechanism for enforcing those rules by simply adding an annotation on each service implementation, for
example say there exists the following `Calculator` service interface

[source,java]
----
package com.acme;

public interface Calculator {
    double add(double a, double b);
}
----

A basic implementation of such service may be as follows

[source,java]
----
package com.acme;

@org.kordamp.jipsy.annotations.ServiceProviderFor(Calculator.class)
public class BasicCalculator implements Calculator {
    public double add(double a, double b) { return a + b; }
}
----

Compile your code. If you look closely at your project's output you'll see a file named
`META-INF/services/com.acme.Calculator` whose contents should look similar to

[source]
[subs="attributes"]
----
# Generated by org.kordamp.jipsy.processor.service.ServiceProviderProcessor ({project-version})
com.acme.BasicCalculator
----

Et voil√†! There are no additional sources to be touched nor files to be created; Jipsy will take care of the boiler plate.

== Installing

Jipsy is packaged as a standalone jars with no additional dependencies. Jipsy requires JDK8 as a minimum as it relies on the
Annotation Processor facility to do its work. You must enable annotation processing on your IDE if you want Jipsy to work
correctly.

Jipsy can be downloaded directly from Maven Central, configure it via Maven or Gradle.

.Maven
[subs="verbatim,attributes"]
----
<dependency>
    <groupId>{project-group}</groupId>
    <artifactId>{project-name}-processor</artifactId>
    <version>{project-version}</version>
    <scope>provided</scope>
</dependency>
----

.Gradle
[subs="verbatim,attributes"]
----
dependencies {
    annotationProcessor '{project-group}:{project-name}-processor:{project-version}'
    compileOnly '{project-group}:jipsy-annotations:{project-version}'
}
----

NOTE: For Maven, use the `provided` scope in order to mark Jipsy as a compile-only dependency; this also avoids exposing Jipsy to
consumers of your library.

== Origin

Jipsy is a re-implementation of the https://code.google.com/p/spi[org.mangosdk.spi] project, original by Roel Spilker and
Bart Enkelaar; copyrighted by TOPdesk; source distributed under Apache Software License 2.0

== Creating Your Own Processors

TBD

